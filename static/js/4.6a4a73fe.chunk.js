(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{231:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return f}));var n=a(244),r=a(0),o=a.n(r),l=a(110),s=a(232),c=a.n(s),u=function(e){e.input;var t=e.meta,a=t.error,n=t.touched,r=e.children,l=a&&n;return o.a.createElement("div",{className:c.a.formControler+" "+(l?c.a.error:"")},o.a.createElement("div",null,r),l&&o.a.createElement("div",{className:c.a.errText},a))},i=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return o.a.createElement(u,e,o.a.createElement("textarea",Object.assign({},t,a)))},m=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return o.a.createElement(u,e,o.a.createElement("input",Object.assign({},t,a)))},f=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(l.a,Object.assign({placeholder:e,name:t,component:a,validate:n},r))," ",s)}},232:function(e,t,a){e.exports={formControler:"FormsControls_formControler__2SE9W",error:"FormsControls_error__tWJpB",errText:"FormsControls_errText__3cYxS"}},234:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(!(t&&t.length<e))return"Max length is ".concat(e," symbols")}}},236:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(61);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},242:function(e,t,a){"use strict";var n=a(34),r=a(35),o=a(37),l=a(36),s=a(0),c=a.n(s),u=a(6),i=a(19),m=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){Object(o.a)(s,t);var a=Object(l.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),s}(c.a.Component);return Object(i.b)(m)(t)}},243:function(e,t,a){e.exports={wallImg:"ProfileInfo_wallImg__6eFSx",descriptionBlock:"ProfileInfo_descriptionBlock__1eg9Z",fullName:"ProfileInfo_fullName__3_pZy",aboutMe:"ProfileInfo_aboutMe__PxFKG",photo:"ProfileInfo_photo__1kjc5",customInputFile:"ProfileInfo_customInputFile__1eicu",photoLable:"ProfileInfo_photoLable__JqkZX",workStatus:"ProfileInfo_workStatus__3HnV6",error:"ProfileInfo_error__1qPI4"}},298:function(e,t,a){},299:function(e,t,a){e.exports={posts:"MyPosts_posts__3O9aF",postsBlock:"MyPosts_postsBlock__2rut_"}},300:function(e,t,a){e.exports={post:"Post_post__4E7cZ"}},304:function(e,t,a){"use strict";a.r(t);var n=a(34),r=a(35),o=a(37),l=a(36),s=a(0),c=a.n(s),u=a(298),i=a.n(u),m=a(60),f=a(299),p=a.n(f),d=a(300),b=a.n(d),E=a(59),h=a.n(E),v=function(e){var t=e.message,a=e.likes;return c.a.createElement("div",null,c.a.createElement("div",{className:b.a.posts},c.a.createElement("div",{className:b.a.post},c.a.createElement("img",{alt:"user",src:h.a}),t),c.a.createElement("span",null,"Like ",a)))},_=a(111),g=a(234),O=a(231),j=Object(g.a)(10),k=c.a.memo((function(e){var t=e.profilePage,a=e.addPost,n=t.posts.map((function(e){return c.a.createElement(v,{id:e.id,message:e.message,likes:e.likes})}));return c.a.createElement("div",{className:p.a.postsBlock},c.a.createElement("h3",null,"My posts"),c.a.createElement(y,{onSubmit:function(e){a(e.postText)}}),c.a.createElement("div",{className:p.a.posts},n))})),y=Object(_.a)({form:"myPosts"})((function(e){var t=e.handleSubmit;return c.a.createElement("form",{onSubmit:t},Object(O.c)("Enter your message","postText",O.b,[g.b,j]),c.a.createElement("div",null,c.a.createElement("button",null,"Add post")))})),P=k,S=a(19),N=Object(S.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){var a=Object(m.a)(t);e(a)}}}))(P),I=a(236),w=a(243),F=a.n(w),x=function(e){var t=e.propStatus,a=e.updateUserStatus,n=Object(s.useState)(!1),r=Object(I.a)(n,2),o=r[0],l=r[1],u=Object(s.useState)(t),i=Object(I.a)(u,2),m=i[0],f=i[1];Object(s.useEffect)((function(){f(t)}),[t]);return c.a.createElement("div",null,!o&&c.a.createElement("div",{onClick:function(){l(!0)},className:F.a.aboutMe},c.a.createElement("span",null,c.a.createElement("b",null,"Status: "),m||"------")),o&&c.a.createElement("div",{className:F.a.aboutMe},c.a.createElement("span",null,c.a.createElement("input",{onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,onBlur:function(){l(!1),a(m)},value:m}))))},A=a(38),M=Object(_.a)({form:"edit-profile"})((function(e){var t=e.profile,a=e.handleSubmit,n=e.error;return c.a.createElement("form",{onSubmit:a},c.a.createElement("div",{className:F.a.aboutUser},c.a.createElement("div",null,c.a.createElement("h3",null,"Contacts"),Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("b",null,e,": ")," ",Object(O.c)(e,"contacts."+e,O.b,[]))}))),c.a.createElement("div",{className:F.a.workStatus},c.a.createElement("h3",null,"Work status"),c.a.createElement("div",null,c.a.createElement("b",null,"Full name: ")," ",Object(O.c)("Full name","fullName",O.b,[])),c.a.createElement("div",null,c.a.createElement("b",null,"About me: ")," ",Object(O.c)("About me","aboutMe",O.b,[])),c.a.createElement("div",null,c.a.createElement("b",null,"My skills: ")," ",Object(O.c)("My skills","lookingForAJobDescription",O.b,[])),c.a.createElement("div",null,c.a.createElement("b",null,"Job hunting: ")," ",Object(O.c)("","lookingForAJob",O.a,[],{type:"checkbox"})),n&&c.a.createElement("div",{className:F.a.error},n),c.a.createElement("div",null,c.a.createElement("button",null,"Save")))))})),U=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return c.a.createElement("div",{className:F.a.aboutUser},c.a.createElement("div",null,c.a.createElement("h3",null,"Contacts"),Object.keys(t.contacts).map((function(e){return c.a.createElement(C,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),c.a.createElement("div",{className:F.a.workStatus},c.a.createElement("h3",null,"Work status"),c.a.createElement("div",null,c.a.createElement("b",null,"About me: ")," ",t.aboutMe),c.a.createElement("div",null,c.a.createElement("b",null,"Job hunting: ")," ",t.lookingForAJob?"Yes":"No"),c.a.createElement("div",null,c.a.createElement("b",null,"My skills: "),t.lookingForAJobDescription),a&&c.a.createElement("button",{onClick:n},"Edit")))},C=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement("div",null,c.a.createElement("b",null,t,": "),c.a.createElement("a",{href:a},a))},T=function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,r=e.isOwner,o=e.savePhoto,l=e.saveProfile,u=Object(s.useState)(!1),i=Object(I.a)(u,2),m=i[0],f=i[1];if(!t)return c.a.createElement(A.a,null);return c.a.createElement("div",null,c.a.createElement("div",{className:F.a.descriptionBlock},c.a.createElement("div",{className:F.a.photoAndName},c.a.createElement("img",{alt:"profile",className:F.a.photo,src:null!=t.photos.large?t.photos.large:h.a}),r&&c.a.createElement("div",null,c.a.createElement("label",{className:F.a.photoLable,for:"fileElem"},"Update photo"),c.a.createElement("input",{id:"fileElem",className:F.a.customInputFile,type:"file",onChange:function(e){var t=e.target;t.files.length&&o(t.files[0])}})),c.a.createElement("div",{className:F.a.fullName},t.fullName),c.a.createElement(x,{propStatus:a,updateUserStatus:n})),m?c.a.createElement(M,{onSubmit:function(e){l(e).then((function(){f(!1)}))},profile:t,initialValues:t}):c.a.createElement(U,{goToEditMode:function(){return f(!0)},isOwner:r,profile:t})))},J=function(e){var t=e.profile,a=e.status,n=e.updateUserStatus,r=e.isOwner,o=e.savePhoto,l=e.saveProfile;return c.a.createElement("div",{className:i.a.content},c.a.createElement(T,{saveProfile:l,savePhoto:o,isOwner:r,profile:t,status:a,updateUserStatus:n}),c.a.createElement(N,null))},B=a(6),D=a(242),L=a(17),V=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||(e=this.props.history.push("/login")),this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.profile?c.a.createElement(J,Object.assign({},this.props,{saveProfile:this.props.saveProfile,savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})):c.a.createElement(A.a,null)}}]),a}(c.a.Component),W={getProfile:m.c,getUserStatus:m.d,updateUserStatus:m.g,savePhoto:m.e,saveProfile:m.f};t.default=Object(L.d)(D.a,Object(S.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),W),B.g)(V)}}]);
//# sourceMappingURL=4.6a4a73fe.chunk.js.map