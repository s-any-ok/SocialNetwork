{"version":3,"sources":["components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Dialogs/Dialogs.module.css","hoc/withAuthRedirect.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["FormConstructor","input","meta","error","touched","children","hasError","className","s","formControler","errText","Textarea","props","restProps","Input","createForm","placeholder","name","component","validators","text","validate","module","exports","required","value","maxLengthConstructor","max","length","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","AuthRedirectComponent","this","to","React","connect","DialogItem","id","path","item","alt","src","user","Message","message","maxLength50","DialogReduxForm","reduxForm","form","handleSubmit","onSubmit","Dialogs","dialogsPage","onSendMessageClick","dialogsElements","dialogs","map","d","messagesElements","messages","m","dialogsItems","data","messageText","compose","dispatch","action","sendMessage"],"mappings":"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","file":"static/js/5.f33666f0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport s from \"./FormsControls.module.css\";\r\n\r\nconst FormConstructor = ({ input, meta: { error, touched }, children }) => {\r\n  const hasError = error && touched;\r\n  return (\r\n    <div className={s.formControler + \" \" + (hasError ? s.error : \"\")}>\r\n      <div>{children}</div>\r\n      {hasError && <div className={s.errText}>{error}</div>}\r\n    </div>\r\n  );\r\n};\r\nexport const Textarea = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormConstructor {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormConstructor>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormConstructor {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormConstructor>\r\n  );\r\n};\r\n\r\nexport const createForm = (\r\n  placeholder,\r\n  name,\r\n  component,\r\n  validators,\r\n  props = {},\r\n  text = \"\"\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={validators}\r\n        {...props}\r\n      />{\" \"}\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControler\":\"FormsControls_formControler__2SE9W\",\"error\":\"FormsControls_error__tWJpB\",\"errText\":\"FormsControls_errText__3cYxS\"};","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthConstructor = (max) => (value) => {\r\n  if (value && value.length < max) return undefined;\r\n  return `Max length is ${max} symbols`;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1zR4W\",\"dialogsItems\":\"Dialogs_dialogsItems__3TEXg\",\"messages\":\"Dialogs_messages__3ER5l\",\"item\":\"Dialogs_item__Hw3bA\"};","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  class AuthRedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectWithAuthRedirect = connect(mapStateToProps)(AuthRedirectComponent);\r\n  return ConnectWithAuthRedirect;\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport user from \"../../../assets/img/user.png\";\r\n\r\nconst DialogItem = ({ id, name }) => {\r\n  const path = `/dialog/${id}`;\r\n  return (\r\n    <div className={s.item}>\r\n      <img alt=\"user\" src={user} />\r\n      <NavLink to={path}>{name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\n\r\nconst Message = ({ message }) => {\r\n  return <div className={s.message}>{message}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { createForm, Textarea } from \"../common/FormsControls/FormsControls\";\r\nimport {\r\n  maxLengthConstructor,\r\n  required,\r\n} from \"../../utils/validators/validators\";\r\n\r\nconst maxLength50 = maxLengthConstructor(50);\r\nconst Dialogs = ({ dialogsPage, onSendMessageClick }) => {\r\n  const dialogsElements = dialogsPage.dialogs.map((d) => (\r\n    <DialogItem name={d.name} id={d.id} />\r\n  ));\r\n  const messagesElements = dialogsPage.messages.map((m) => (\r\n    <Message message={m.message} id={m.id} />\r\n  ));\r\n\r\n  const addNewMessage = (data) => {\r\n    onSendMessageClick(data.messageText);\r\n  };\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>{dialogsElements}</div>\r\n      <div className={s.messages}>\r\n        <div>{messagesElements}</div>\r\n        <DialogReduxForm onSubmit={addNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DialogForm = ({ handleSubmit }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createForm(\"Enter your message\", \"messageText\", Textarea, [\r\n        required,\r\n        maxLength50,\r\n      ])}\r\n\r\n      <div>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst DialogReduxForm = reduxForm({ form: \"dialogs\" })(DialogForm);\r\n\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport { sendMessage } from \"../../redux/reducers/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\n\r\nimport { compose } from \"redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSendMessageClick: (message) => {\r\n      let action = sendMessage(message);\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(Dialogs);\r\n"],"sourceRoot":""}