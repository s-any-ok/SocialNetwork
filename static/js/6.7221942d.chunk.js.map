{"version":3,"sources":["components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Login/Login.module.css","components/Login/Login.jsx"],"names":["FormConstructor","input","meta","error","touched","children","hasError","className","s","formControler","errText","Textarea","props","restProps","Input","createForm","placeholder","name","component","validators","text","validate","module","exports","required","value","maxLengthConstructor","max","length","LoginReduxForm","reduxForm","form","handleSubmit","captchUrl","onSubmit","type","alt","src","commonError","connect","state","isAuth","auth","login","to","email","password","rememberMe","captcha"],"mappings":"sQAIMA,EAAkB,SAAC,GAAkD,EAAhDC,MAAiD,IAAD,IAAzCC,KAAQC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,QAAWC,EAAe,EAAfA,SACpDC,EAAWH,GAASC,EAC1B,OACE,yBAAKG,UAAWC,IAAEC,cAAgB,KAAOH,EAAWE,IAAEL,MAAQ,KAC5D,6BAAME,GACLC,GAAY,yBAAKC,UAAWC,IAAEE,SAAUP,KAIlCQ,EAAW,SAACC,GAAW,IAC1BX,EAA8BW,EAA9BX,MAAgBY,GAAcD,EAAvBV,KADkB,YACKU,EADL,mBAEjC,OACE,kBAACZ,EAAoBY,EACnB,8CAAcX,EAAWY,MAKlBC,EAAQ,SAACF,GAAW,IACvBX,EAA8BW,EAA9BX,MAAgBY,GAAcD,EAAvBV,KADe,YACQU,EADR,mBAE9B,OACE,kBAACZ,EAAoBY,EACnB,2CAAWX,EAAWY,MAKfE,EAAa,SACxBC,EACAC,EACAC,EACAC,GAGI,IAFJP,EAEG,uDAFK,GACRQ,EACG,uDADI,GAEP,OACE,6BACE,kBAAC,IAAD,eACEJ,YAAaA,EACbC,KAAMA,EACNC,UAAWA,EACXG,SAAUF,GACNP,IACH,IACFQ,K,oBC/CPE,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,MAAQ,6BAA6B,QAAU,iC,iCCDtH,oEAAO,IAAMC,EAAW,SAACC,GACvB,IAAIA,EACJ,MAAO,qBAGIC,EAAuB,SAACC,GAAD,OAAS,SAACF,GAC5C,KAAIA,GAASA,EAAMG,OAASD,GAC5B,MAAM,iBAAN,OAAwBA,EAAxB,e,oBCNFL,EAAOC,QAAU,CAAC,YAAc,6B,iCCDhC,+FAmDMM,EAAiBC,YAAU,CAAEC,KAAM,SAAlBD,EA1BL,SAAC,GAAwC,IAAtCE,EAAqC,EAArCA,aAAc7B,EAAuB,EAAvBA,MAAO8B,EAAgB,EAAhBA,UACxC,OACE,0BAAMC,SAAUF,GACbjB,YAAW,QAAS,QAASD,IAAO,CAACU,MACrCT,YAAW,WAAY,WAAYD,IAAO,CAACU,KAAW,CACrDW,KAAM,aAEPpB,YACC,KACA,aACAD,IACA,GACA,CAAEqB,KAAM,YACR,cAEDF,GAAa,yBAAKG,IAAI,SAASC,IAAKJ,IACpCA,GAAalB,YAAW,eAAgB,UAAWD,IAAO,CAACU,MAC3DrB,GAAS,yBAAKI,UAAWC,IAAE8B,aAAcnC,GAE1C,6BACE,8CAeOoC,uBAPS,SAACC,GACvB,MAAO,CACLC,OAAQD,EAAME,KAAKD,OACnBR,UAAWO,EAAME,KAAKT,aAIc,CAAEU,WAA3BJ,EAnDD,SAAC3B,GAKb,OAAIA,EAAM6B,OACD,kBAAC,IAAD,CAAUG,GAAI,aAGrB,6BACE,qCACA,kBAACf,EAAD,CAAgBK,SAVL,SAAC,GAA8C,IAA5CW,EAA2C,EAA3CA,MAAOC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAC7CpC,EAAM+B,MAAME,EAAOC,EAAUC,EAAYC,IASHf,UAAWrB,EAAMqB","file":"static/js/6.7221942d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport s from \"./FormsControls.module.css\";\r\n\r\nconst FormConstructor = ({ input, meta: { error, touched }, children }) => {\r\n  const hasError = error && touched;\r\n  return (\r\n    <div className={s.formControler + \" \" + (hasError ? s.error : \"\")}>\r\n      <div>{children}</div>\r\n      {hasError && <div className={s.errText}>{error}</div>}\r\n    </div>\r\n  );\r\n};\r\nexport const Textarea = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormConstructor {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormConstructor>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormConstructor {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormConstructor>\r\n  );\r\n};\r\n\r\nexport const createForm = (\r\n  placeholder,\r\n  name,\r\n  component,\r\n  validators,\r\n  props = {},\r\n  text = \"\"\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={validators}\r\n        {...props}\r\n      />{\" \"}\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControler\":\"FormsControls_formControler__2SE9W\",\"error\":\"FormsControls_error__tWJpB\",\"errText\":\"FormsControls_errText__3cYxS\"};","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthConstructor = (max) => (value) => {\r\n  if (value && value.length < max) return undefined;\r\n  return `Max length is ${max} symbols`;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commonError\":\"Login_commonError__3_pZZ\"};","import React from \"react\";\r\nimport s from \"./Login.module.css\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { createForm, Input } from \"../common/FormsControls/FormsControls\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/reducers/authReducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n  let onSubmit = ({ email, password, rememberMe, captcha }) => {\r\n    props.login(email, password, rememberMe, captcha);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h3>Login</h3>\r\n      <LoginReduxForm onSubmit={onSubmit} captchUrl={props.captchUrl} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchUrl }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createForm(\"Email\", \"email\", Input, [required])}\r\n      {createForm(\"Password\", \"password\", Input, [required], {\r\n        type: \"password\",\r\n      })}\r\n      {createForm(\r\n        null,\r\n        \"rememberMe\",\r\n        Input,\r\n        [],\r\n        { type: \"checkbox\" },\r\n        \"rememberMe\"\r\n      )}\r\n      {captchUrl && <img alt=\"captch\" src={captchUrl} />}\r\n      {captchUrl && createForm(\"Input captch\", \"captcha\", Input, [required])}\r\n      {error && <div className={s.commonError}>{error}</div>}\r\n\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    captchUrl: state.auth.captchUrl,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n"],"sourceRoot":""}