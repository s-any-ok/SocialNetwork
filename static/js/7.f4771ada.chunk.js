(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{242:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(61);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},257:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__xGhC5",user:"Users_user__2KL3e",userButton:"Users_userButton__3b4ft",wrapper:"Users_wrapper__3hJAr",users:"Users_users__2WNSq"}},301:function(e,t,n){e.exports={pagesBtn:"Paginator_pagesBtn__3bS3x",actBtn:"Paginator_actBtn__RTyOi"}},305:function(e,t,n){"use strict";n.r(t);var r=n(33),a=n(34),o=n(36),u=n(35),l=n(0),s=n.n(l),i=n(257),c=n.n(i),f=n(242),p=n(301),g=n.n(p),m=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.onChangePage,a=e.currentPage,o=Math.ceil(t/n),u=[],i=0;i<o;i++)u.push(i+1);var c=Math.ceil(o/n),p=Object(l.useState)(1),m=Object(f.a)(p,2),h=m[0],v=m[1],d=(h-1)*n+1,y=h*n,w=u[0],P=u[u.length-1];return s.a.createElement("div",{className:g.a.pagesBtn},h>1&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return v(h-1)}},"PREV"),s.a.createElement("span",{key:w,onClick:function(){r(w),v(1)},className:a===u[w]&&g.a.actBtn},u[w]-1," ...")),u.filter((function(e){return e>=d&&e<=y})).map((function(e){return s.a.createElement("span",{key:e,onClick:function(){return r(e)},className:a===e&&g.a.actBtn},e)})),c>h&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{key:P,onClick:function(){r(P),v(c)},className:a===P&&g.a.actBtn},"... ",P),s.a.createElement("button",{onClick:function(){return v(h+1)}},"NEXT")))},h=n(59),v=n.n(h),d=n(13),y=function(e){var t=e.user,n=e.isFollowingInProgress,r=e.follow,a=e.unfollow;return s.a.createElement("div",{key:t.id,className:c.a.user},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(d.b,{to:"profile/"+t.id},s.a.createElement("img",{alt:"user",src:null!=t.photos.small?t.photos.small:v.a,className:c.a.userPhoto}))),s.a.createElement("div",{className:c.a.userButton},t.followed?s.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Unfollow"):s.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Follow"))),s.a.createElement("div",null,s.a.createElement("div",null,t.name),s.a.createElement("div",null,null!=t.status?t.status.slice(0,8)+"...":t.status)))},w=function(e){return s.a.createElement("div",{className:c.a.wrapper},s.a.createElement("h3",null,"Users"),s.a.createElement("div",{className:c.a.users},e.users.map((function(t){return s.a.createElement(y,{user:t,isFollowingInProgress:e.isFollowingInProgress,follow:e.follow,unfollow:e.unfollow})}))),s.a.createElement(m,{totalItemsCount:e.totalItemsCount,pageSize:e.pageSize,onChangePage:e.onChangePage,currentPage:e.currentPage}))},P=n(19),b=n(82),E=n(44),C=n(17);function _(e,t){return e===t}function I(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function S(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var k=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=0,u=r.pop(),l=S(r),s=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(n)),i=e((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return s.apply(null,e)}));return i.resultFunc=u,i.dependencies=l,i.recomputations=function(){return o},i.resetRecomputations=function(){return o=0},i}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=null,r=null;return function(){return I(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var F=k((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),j=function(e){return e.usersPage.currentPage},B=function(e){return e.usersPage.totalItemsCount},N=function(e){return e.usersPage.pageSize},O=function(e){return e.usersPage.isFetching},U=function(e){return e.usersPage.isFollowingInProgress},z=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))).onChangePage=function(t){var n=e.props.pageSize;e.props.requestUser(t,n)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUser(t,n)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.isFetching?s.a.createElement(E.a,null):null,s.a.createElement(w,{users:this.props.users,totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,follow:this.props.follow,unfollow:this.props.unfollow,currentPage:this.props.currentPage,onChangePage:this.onChangePage,isFollowingInProgress:this.props.isFollowingInProgress}))}}]),n}(s.a.Component),A={follow:b.b,unfollow:b.f,setCurrentPage:b.d,setItemsCount:b.e,requestUser:b.c,getItemsCount:B};t.default=Object(C.d)(Object(P.b)((function(e){return{users:F(e),currentPage:j(e),totalItemsCount:B(e),pageSize:N(e),isFetching:O(e),isFollowingInProgress:U(e)}}),A))(z)}}]);
//# sourceMappingURL=7.f4771ada.chunk.js.map