{"version":3,"sources":["components/Nav/Nav.module.css","serviceWorker.js","redux/reducers/sidebarReducer.js","redux/reducers/appReducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Friends/Friend/Friend.jsx","components/Nav/Friends/Friends.jsx","components/Nav/Nav.jsx","components/Nav/NavContainer.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","hoc/withSuspense.jsx","App.js","index.js","redux/reducers/authReducer.js","components/Header/Header.module.css","components/common/Preloader/Preloader.jsx","components/Nav/Friends/Friends.module.css","assets/img/user.png","redux/reducers/profileReducer.js","api/api.js","redux/reducers/dialogsReducer.js","utils/usersHelpers.js","redux/reducers/usersReducer.js","components/Nav/Friends/Friend/Friend.module.css","assets/img/preloader.svg"],"names":["module","exports","Boolean","window","location","hostname","match","initialState","friends","id","name","sidebarReducer","state","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","auth","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","props","className","s","header","container","logo","isAuth","login","onClick","logout","then","reload","to","HeaderContainer","this","React","Component","mapDispatchToProps","connect","Friend","friend","alt","src","Friends","friendsElements","map","f","i","key","friendsHead","Nav","nav","menuBtns","activeClassName","active","NavContainer","dispatch","News","Music","Settings","withSuspense","fallback","Preloader","DialogsContainer","lazy","ProfileContainer","UsersContainer","Login","MainApp","initializeApp","exact","from","path","render","AppContainer","withRouter","dispath","promise","getAuthUserData","Promise","all","SocialNetworkApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","email","captchUrl","setUserData","payload","getCaptchUrlSuccess","a","authAPI","authUser","data","resultCode","password","rememberMe","captcha","getCapthUrl","stopSubmit","_error","securityAPI","url","preloader","ADD_POST","posts","likes","profile","status","addPost","postText","setUserStatus","saveUserPhoto","photoFile","getProfile","userId","profileAPI","getUserStatus","getStatus","response","savePhoto","photos","saveProfile","getState","messages","reject","updateUserStatus","updateStatus","newPost","instantion","axios","baseURL","withCredentials","headers","userAPI","getUser","currentPage","pageSize","get","follow","delete","unfollow","post","put","formData","FormData","append","dialogs","sendMessage","body","updateObjectInArray","item","itemId","objPropName","newObjProp","u","users","totalItemsCount","isFetching","isFollowingInProgress","followSuccess","unfollowSuccess","setCurrentPage","pageNumber","setItemsCount","totalCount","toggleIsFetching","toggleFollowingProgress","requestUser","page","items","followUnfollowFlow","bind","apiMethod","actionCreator","followed","filter"],"mappings":"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","file":"static/js/main.caeec658.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2nVaU\",\"menuBtns\":\"Nav_menuBtns__3-8G0\",\"active\":\"Nav_active__17BsM\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\r\n  friends: [\r\n    { id: 1, name: \"Dima\" },\r\n    { id: 2, name: \"Roma\" },\r\n    { id: 3, name: \"Denus\" },\r\n    { id: 4, name: \"Taras\" },\r\n    { id: 5, name: \"Mark\" },\r\n    { id: 6, name: \"Jaruk\" },\r\n  ],\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"app/INITIALIZED_SUCCESS\";\r\n\r\nconst initialState = {\r\n  initialized: true, // check it\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return { ...state, initialized: true };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//-------------------Actions--------------------//\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\n\r\n//-------------------Thunks--------------------//\r\nexport const initializeApp = () => (dispath) => {\r\n  let promise = dispath(getAuthUserData());\r\n  Promise.all([promise]).then(() => {\r\n    dispath(initializedSuccess());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./reducers/profileReducer\";\r\nimport dialogsReducer from \"./reducers/dialogsReducer\";\r\nimport sidebarReducer from \"./reducers/sidebarReducer\";\r\nimport usersReducer from \"./reducers/usersReducer\";\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport appReducer from \"./reducers/appReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\n//const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Header.module.css\";\n\nconst Header = (props) => {\n  const onLogout = () => {\n    props.logout().then(() => {\n      window.location.reload();\n    });\n  };\n  return (\n    <div className={s.header}>\n      <div className={s.container}>\n        <div className={s.logo}>\n          <big>Li1n</big>\n        </div>\n\n        {props.isAuth ? (\n          <div className={s.login}>\n            {props.login} <button onClick={onLogout}>Logout</button>\n          </div>\n        ) : (\n          <NavLink to=\"/login\">\n            <div className={s.login}>Login</div>\n          </NavLink>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Header from \"./Header\";\nimport { logout } from \"../../redux/reducers/authReducer\";\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n  };\n};\n\nconst mapDispatchToProps = { logout };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\n","import React from \"react\";\nimport s from \"./Friend.module.css\";\nimport friend from \"../../../../assets/img/user.png\";\nconst Friend = (props) => {\n  return (\n    <div className={s.friend}>\n      <div>\n        <img alt=\"friend\" src={friend} />\n      </div>\n      <h6>{props.name}</h6>\n    </div>\n  );\n};\n\nexport default Friend;\n","import React from \"react\";\nimport s from \"./Friends.module.css\";\nimport Friend from \"./Friend/Friend\";\n\nconst Friends = (props) => {\n  const friendsElements = props.friends.map((f, i) => (\n    <Friend key={i} name={f.name} />\n  ));\n\n  return (\n    <div>\n      <div className={s.friendsHead}>Friends</div>\n      <div className={s.friends}>{friendsElements}</div>\n    </div>\n  );\n};\n\nexport default Friends;\n","import React from \"react\";\nimport s from \"./Nav.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport Friends from \"./Friends/Friends\";\n\nconst Nav = (props) => {\n  return (\n    <div className={s.nav}>\n      <div className={s.menuBtns}>\n        <NavLink to=\"/profile\" activeClassName={s.active}>\n          Profile\n        </NavLink>\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>\n          Messages\n        </NavLink>\n        <NavLink to=\"/users\" activeClassName={s.active}>\n          Users\n        </NavLink>\n        <NavLink to=\"/news\" activeClassName={s.active}>\n          News\n        </NavLink>\n        <NavLink to=\"/music\" activeClassName={s.active}>\n          Music\n        </NavLink>\n        <hr />\n        <NavLink to=\"/settings\" activeClassName={s.active}>\n          Settings\n        </NavLink>\n        <br />\n        <br />\n        <Friends friends={props.sidebar.friends} />\n      </div>\n    </div>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Nav from \"./Nav\";\n\nconst mapStateToProps = (state) => {\n  return {\n    sidebar: state.sidebar,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {};\n};\n\nconst NavContainer = connect(mapStateToProps, mapDispatchToProps)(Nav);\n\nexport default NavContainer;\n","import React from \"react\";\r\nimport s from \"./News.module.css\";\r\n\r\nconst News = (props) => {\r\n  return <div>News</div>;\r\n};\r\n\r\nexport default News;\r\n","import React from \"react\";\r\nimport s from \"./Music.module.css\";\r\n\r\nconst Music = (props) => {\r\n  return <div>Music</div>;\r\n};\r\n\r\nexport default Music;\r\n","import React from \"react\";\r\nimport s from \"./Settings.module.css\";\r\n\r\nconst Settings = (props) => {\r\n  return <div>Settings</div>;\r\n};\r\n\r\nexport default Settings;\r\n","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\nconst withSuspense  = (Component) => (props) =>{\r\n  return (\r\n    <Suspense fallback={<Preloader />}>\r\n    <Component {...props}/>\r\n  </Suspense>\r\n  )\r\n};\r\n\r\nexport default withSuspense;\r\n","import React, { lazy } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Redirect, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/redux-store\";\nimport HeaderContainer from \"./components/Header/HeaderContainer.jsx\";\nimport NavContainer from \"./components/Nav/NavContainer.jsx\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { initializeApp } from \"./redux/reducers/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport withSuspense from \"./hoc/withSuspense\";\n\nconst DialogsContainer = lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = lazy(() =>\n  import(\"./components/Profile/ProfileContainer.jsx\")\n);\nconst UsersContainer = lazy(() => import(\"./components/Users/UsersContainer\"));\nconst Login = lazy(() => import(\"./components/Login/Login\"));\n\nclass MainApp extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n\n    return (\n      <div className=\"wrapper\">\n        <HeaderContainer />\n        <NavContainer />\n        <div className=\"wrapper-content\">\n          <Switch>\n            <Redirect exact from=\"/\" to=\"/profile\" />\n            <Route\n              path=\"/profile/:userId?\"\n              render={withSuspense(ProfileContainer)}\n            />\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n            <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n            <Route path=\"/news\" render={() => <News />} />\n            <Route path=\"/music\" render={() => <Music />} />\n            <Route path=\"/settings\" render={() => <Settings />} />\n            <Route path=\"/login\" render={withSuspense(Login)} />\n            <Route path=\"*\" render={() => <div>404 ERROR</div>} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(MainApp);\n\nconst SocialNetworkApp = (props) => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default SocialNetworkApp;\n","import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport ReactDOM from \"react-dom\";\nimport SocialNetworkApp from \"./App\";\n\nReactDOM.render(<SocialNetworkApp />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { authAPI, securityAPI } from \"../../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\nconst GET_CAPTCH_URL = \"auth/GET_CAPTCH_URL\";\r\n\r\nconst initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCH_URL:\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//-------------------Actions--------------------//\r\nexport const setUserData = (id, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { id, email, login, isAuth },\r\n});\r\nexport const getCaptchUrlSuccess = (captchUrl) => ({\r\n  type: GET_CAPTCH_URL,\r\n  payload: { captchUrl },\r\n});\r\n\r\n//-------------------Thunks--------------------//\r\nexport const getAuthUserData = () => async (dispath) => {\r\n  const data = await authAPI.authUser();\r\n  if (data.resultCode === 0) {\r\n    let { id, login, email } = data.data;\r\n    dispath(setUserData(id, email, login, true));\r\n  }\r\n};\r\nexport const login = (email, password, rememberMe, captcha) => async (\r\n  dispath\r\n) => {\r\n  const data = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (data.resultCode === 0) {\r\n    dispath(getAuthUserData());\r\n  } else {\r\n    if (data.resultCode === 10) {\r\n      dispath(getCapthUrl());\r\n    }\r\n    dispath(stopSubmit(\"login\", { _error: \"Common error\" }));\r\n  }\r\n};\r\n\r\nexport const getCapthUrl = () => async (dispath) => {\r\n  const data = await securityAPI.getCapthUrl();\r\n  const captchUrl = data.url;\r\n  dispath(getCaptchUrlSuccess(captchUrl));\r\n};\r\nexport const logout = () => async (dispath) => {\r\n  const data = authAPI.logout();\r\n  if (data.resultCode === 0) {\r\n    dispath(setUserData(null, null, null, false));\r\n  }\r\n  return data;\r\n};\r\n\r\nexport default authReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1lBTp\",\"container\":\"Header_container__3EKou\",\"logo\":\"Header_logo__2EetP\",\"login\":\"Header_login__2R2LR\"};","import React from \"react\";\r\nimport preloader from \"../../../assets/img/preloader.svg\";\r\n\r\nconst Preloader = (props) => {\r\n  return (\r\n    <div>\r\n      <img src={preloader} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__udKMb\",\"friendsHead\":\"Friends_friendsHead__3bZX0\"};","module.exports = __webpack_public_path__ + \"static/media/user.23a5577b.png\";","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../../api/api\";\r\n\r\nconst ADD_POST = \"profile/ADD_POST\";\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"profile/SET_USER_STATUS\";\r\nconst SAVE_USER_PHOTO = \"profile/SAVE_USER_PHOTO\";\r\n\r\nconst initialState = {\r\n  posts: [\r\n    { id: 1, message: \"How are you boy?\", likes: 10 },\r\n    { id: 2, message: \"I know Raect!\", likes: 8 },\r\n    { id: 3, message: \"How are you boy?\", likes: 0 },\r\n    { id: 4, message: \"I know Raect!\", likes: 18 },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      const newPost = {\r\n        id: 5,\r\n        message: action.postText,\r\n        likes: 10,\r\n      };\r\n      return { ...state, posts: [...state.posts, newPost] };\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    case SAVE_USER_PHOTO:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photoFile },\r\n      };\r\n    case SET_USER_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n//-------------------Actions--------------------//\r\nexport const addPost = (postText) => ({\r\n  type: ADD_POST,\r\n  postText,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setUserStatus = (status) => ({\r\n  type: SET_USER_STATUS,\r\n  status,\r\n});\r\nexport const saveUserPhoto = (photoFile) => ({\r\n  type: SAVE_USER_PHOTO,\r\n  photoFile,\r\n});\r\n\r\n//-------------------Thunks--------------------//\r\nexport const getProfile = (userId) => async (dispath) => {\r\n  const data = await profileAPI.getProfile(userId);\r\n  dispath(setUserProfile(data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispath) => {\r\n  const response = await profileAPI.getStatus(userId);\r\n  dispath(setUserStatus(response.data));\r\n};\r\nexport const savePhoto = (photoFile) => async (dispath) => {\r\n  const response = await profileAPI.savePhoto(photoFile);\r\n  if (response.data.resultCode === 0) {\r\n    dispath(saveUserPhoto(response.data.data.photos));\r\n  }\r\n};\r\nexport const saveProfile = (profile) => async (dispath, getState) => {\r\n  const userId = getState().auth.id;\r\n  const response = await profileAPI.saveProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    dispath(getProfile(userId));\r\n  } else {\r\n    dispath(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }));\r\n    return Promise.reject(response.data.messages[0]);\r\n  }\r\n};\r\nexport const updateUserStatus = (status) => async (dispath) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispath(setUserStatus(status));\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import * as axios from \"axios\";\r\n\r\nconst instantion = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: { \"API-KEY\": \"89f030bd-930e-4cbb-a6ac-6fe5d81fabcc\" },\r\n});\r\n\r\nexport const userAPI = {\r\n  getUser(currentPage = 1, pageSize = 12) {\r\n    return instantion\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data);\r\n  },\r\n  follow(userId) {\r\n    return instantion.delete(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instantion.post(`follow/${userId}`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId = 1) {\r\n    return instantion\r\n      .get(`profile/${userId}`)\r\n      .then((response) => response.data);\r\n  },\r\n  getStatus(userId) {\r\n    return instantion.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instantion.put(`profile/status/`, { status: status });\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instantion.put(`profile/photo/`, formData, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instantion.put(\"profile\", profile);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  authUser() {\r\n    return instantion.get(`auth/me`).then((response) => response.data);\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instantion\r\n      .post(`auth/login`, { email, password, rememberMe, captcha })\r\n      .then((response) => response.data);\r\n  },\r\n  logout() {\r\n    return instantion.delete(`auth/login`).then((response) => response.data);\r\n  },\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCapthUrl() {\r\n    return instantion\r\n      .get(`security/get-captcha-url`)\r\n      .then((response) => response.data);\r\n  },\r\n};\r\n","const SEND_MESSAGE = \"dialogs/SEND-MESSAGE\";\r\n\r\nconst initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Dima\" },\r\n    { id: 2, name: \"Roma\" },\r\n    { id: 3, name: \"Denus\" },\r\n    { id: 4, name: \"Taras\" },\r\n  ],\r\n\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"What is your name?\" },\r\n    { id: 3, message: \"How are you?\" },\r\n    { id: 4, message: \"How are you?\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      const body = action.message;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 5, message: body }],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const sendMessage = (message) => ({\r\n  type: SEND_MESSAGE,\r\n  message,\r\n});\r\n\r\nexport default dialogsReducer;\r\n","export const updateObjectInArray = (item, itemId, objPropName, newObjProp) => {\r\n  return item.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProp };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { userAPI } from \"../../api/api\";\r\nimport { updateObjectInArray } from \"../../utils/usersHelpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst CHANGE_CURRENT_PAGE = \"CHANGE_CURRENT_PAGE\";\r\nconst SET_TOTAL_ITEMS_COUNT = \"SET-TOTAL-ITEMS-COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"TOGGLE_FOLLOWING_IN_PROGRESS\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  currentPage: 1,\r\n  pageSize: 12,\r\n  totalItemsCount: 0,\r\n  isFetching: false,\r\n  isFollowingInProgress: [],\r\n};\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: false,\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return { ...state, users: [...action.users] };\r\n    case CHANGE_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.pageNumber };\r\n    case SET_TOTAL_ITEMS_COUNT:\r\n      return { ...state, totalItemsCount: action.totalCount };\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n    case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n      return {\r\n        ...state,\r\n        isFollowingInProgress: action.isFetching\r\n          ? [...state.isFollowingInProgress, action.userId]\r\n          : state.isFollowingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n//-------------------Actions--------------------//\r\nexport const followSuccess = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n});\r\nexport const unfollowSuccess = (userId) => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n});\r\nexport const setUsers = (users) => ({\r\n  type: SET_USERS,\r\n  users,\r\n});\r\nexport const setCurrentPage = (pageNumber) => ({\r\n  type: CHANGE_CURRENT_PAGE,\r\n  pageNumber,\r\n});\r\nexport const setItemsCount = (totalCount) => ({\r\n  type: SET_TOTAL_ITEMS_COUNT,\r\n  totalCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n//-------------------Thunks--------------------//\r\nexport const requestUser = (page, pageSize) => async (dispath) => {\r\n  const data = await userAPI.getUser(page, pageSize);\r\n  dispath(toggleIsFetching(true));\r\n  dispath(setCurrentPage(page));\r\n\r\n  dispath(toggleIsFetching(false));\r\n  dispath(setUsers(data.items));\r\n  dispath(setItemsCount(data.totalCount));\r\n};\r\nexport const follow = (userId) => async (dispath) => {\r\n  followUnfollowFlow(\r\n    dispath,\r\n    userId,\r\n    userAPI.follow.bind(userAPI),\r\n    unfollowSuccess\r\n  );\r\n};\r\nexport const unfollow = (userId) => async (dispath) => {\r\n  followUnfollowFlow(\r\n    dispath,\r\n    userId,\r\n    userAPI.unfollow.bind(userAPI),\r\n    followSuccess\r\n  );\r\n};\r\n//-------------------FunctonsForOptimization--------------------//\r\nconst followUnfollowFlow = async (\r\n  dispath,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispath(toggleFollowingProgress(true, userId));\r\n  const response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispath(actionCreator(userId));\r\n  }\r\n  dispath(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport default usersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__j20wu\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.30bbdd8e.svg\";"],"sourceRoot":""}